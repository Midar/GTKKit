#!/bin/sh

if [ `id -u` != 0 ]; then
  echo "Error: you must be root to install!"
  exit 1
fi

if [ ! -e .tup ]; then
  echo "Error: @PACKAGE@ build system not initialized. Run \"tup init\" as a normal user!"
  exit 1
fi

if [ ! -e GTKKit/libgtkkit.dylib ]; then
  echo "Error: @PACKAGE@ is not built. Run ./build.sh as a normal user!"
  exit 1
fi

install GTKKit/libgtkkit.dylib @PREFIX@/lib/libgtkkit.dylib
mkdir -p @PREFIX@/share/doc/GTKKit
mkdir -p @PREFIX@/include/GTKKit
mkdir -p @PREFIX@/include/GTKKit/Protocols
cp -R Documentation/* @PREFIX@/share/doc/GTKKit/
cp GTKKit/*.h @PREFIX@/include/GTKKit/
cp GTKKit/Protocols/*.h @PREFIX@/include/GTKKit/Protocols/
cp GTKKit/libgtkkit.pc @PREFIX@/share/pkgconfig/
